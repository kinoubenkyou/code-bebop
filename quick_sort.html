<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>quick_sort</title>
        <link rel="stylesheet" href="./theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="./">Code Bebop </a></h1>
                <nav><ul>
                    <li class="active"><a href="./category/general.html">general</a></li>
                    <li><a href="./category/misc.html">misc</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="./quick_sort.html" rel="bookmark"
           title="Permalink to quick_sort">quick_sort</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-10-28T00:00:00+07:00">
                Published: 28 Oct 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="./author/kinoubenkyou.html">kinoubenkyou</a>
        </address>
<p>In <a href="./category/general.html">general</a>.</p>
<p>tags: <a href="./tag/python.html">python</a> <a href="./tag/algorithm.html">algorithm</a> </p>
</footer><!-- /.post-info -->      <h1>Idea:</h1>
<p>Quick sort chooses one element as the pivot and separates the others into two lists, one with larger and one with smaller elements than the pivot. This is done by, from the two ends of the list toward the middle, selecting elements which are on incorrect sides and swapping them, until the two selections meet each others. The sort repeats this on the two sub-lists until the they only have one element and cannot be divided anymore.</p>
<h1>Space Complexity of O(1):</h1>
<p>No additional list is used.</p>
<h1>Non-stability:</h1>
<p>When swapping elements to divide them into sub-lists, equal elements on the same incorrect side are reversed in order after being swapped, as the selection move from the two ends of the list toward the middle.</p>
<h1>Worst-case Time Complexity of O(n^2) Comparison and O(n^2) Swapping:</h1>
<p>In the worst case, the sort has n recursions since each recursion having the largest/smallest element as the pivot and the rest are on their incorrect side. Thus, each recursion has n-depended comparisons and n-depended swappings.</p>
<h1>Implementation in Python:</h1>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">swap</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">index_1</span><span class="p">,</span> <span class="n">index_2</span><span class="p">):</span>
    <span class="n">elements</span><span class="p">[</span><span class="n">index_1</span><span class="p">],</span> <span class="n">elements</span><span class="p">[</span><span class="n">index_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="n">index_2</span><span class="p">],</span> <span class="n">elements</span><span class="p">[</span><span class="n">index_1</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">quick_sort</span><span class="p">(</span><span class="n">elements</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">recurse</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">end_index</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">start_index</span> <span class="o">&lt;</span> <span class="n">end_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">pivot_index</span> <span class="o">=</span> <span class="n">partition</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">end_index</span><span class="p">)</span>
            <span class="n">recurse</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">pivot_index</span><span class="p">)</span>
            <span class="n">recurse</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">pivot_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">end_index</span><span class="p">)</span>

    <span class="c1"># dividing</span>
    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">end_index</span><span class="p">):</span>
        <span class="n">pivot</span> <span class="o">=</span> <span class="n">elements</span><span class="p">[</span><span class="n">start_index</span><span class="p">]</span>
        <span class="n">left_i</span> <span class="o">=</span> <span class="n">start_index</span>
        <span class="n">right_i</span> <span class="o">=</span> <span class="n">end_index</span> <span class="o">-</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">elements</span><span class="p">[</span><span class="n">left_i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">pivot</span><span class="p">:</span>
                <span class="n">left_i</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">left_i</span> <span class="o">==</span> <span class="n">end_index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">break</span>

            <span class="k">while</span> <span class="n">elements</span><span class="p">[</span><span class="n">right_i</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">pivot</span><span class="p">:</span>
                <span class="n">right_i</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">right_i</span> <span class="o">==</span> <span class="n">start_index</span><span class="p">:</span>
                    <span class="k">break</span>

            <span class="k">if</span> <span class="n">left_i</span> <span class="o">&gt;=</span> <span class="n">right_i</span><span class="p">:</span>
                <span class="n">swap</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">start_index</span><span class="p">,</span> <span class="n">right_i</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">right_i</span>

            <span class="n">swap</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">left_i</span><span class="p">,</span> <span class="n">right_i</span><span class="p">)</span>

    <span class="n">recurse</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">elements</span><span class="p">))</span>
</pre></div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>